# 📊 ROE筛选逻辑说明

## 🤔 什么是ROE？

**ROE（Return on Equity）** = **净资产收益率** = **加权平均净资产收益率**

### 公式
```
ROE = 净利润 / 平均净资产 × 100%
```

### 含义
- **衡量公司用股东的钱能赚多少利润**
- **ROE越高，说明公司赚钱能力越强**
- **巴菲特最看重的指标之一**

---

## 💡 ROE筛选的逻辑

### 为什么要设置最低ROE要求？

#### 场景1：ROE很低（比如5%）
```
假设：
- PE = 10倍
- ROE = 5%
- PR = 10 / 0.05 / 150 = 1.33

虽然PR=1.33（略高于1.0），但ROE只有5%
说明：公司赚钱能力很弱，即使价格便宜，也不值得投资
```

#### 场景2：ROE很高（比如20%）
```
假设：
- PE = 30倍
- ROE = 20%
- PR = 30 / 0.20 / 150 = 1.0

虽然PR=1.0（合理），但ROE有20%
说明：公司赚钱能力很强，即使价格稍贵，也值得投资
```

### 核心逻辑

**ROE筛选的目的是：**
1. **过滤掉赚钱能力弱的公司**
   - 即使PR≤1.0（价格便宜），但如果ROE太低（比如<5%），说明公司本身赚钱能力差
   - 这样的公司不值得投资

2. **确保投资的是优质公司**
   - ROE≥10%意味着公司每年能用股东的钱赚10%以上的利润
   - 这是巴菲特认为的"好公司"的最低标准

---

## 📈 ROE标准参考

### 巴菲特的标准
- **ROE ≥ 15%**：优秀公司
- **ROE ≥ 10%**：合格公司（最低要求）
- **ROE < 10%**：一般公司
- **ROE < 5%**：差公司

### 行业差异
- **消费行业**：通常ROE较高（15-25%）
- **科技行业**：ROE波动较大（10-20%）
- **制造业**：ROE中等（8-15%）
- **金融行业**：ROE通常较低（5-12%）

---

## 🎯 是否需要ROE筛选？

### 选项1：**需要ROE筛选**（推荐）

**理由**：
- ✅ 确保筛选出的是"好公司"（赚钱能力强）
- ✅ 避免买到"便宜但差"的公司
- ✅ 符合巴菲特投资理念

**设置**：
- 最低ROE：**10.0%**（默认值）
- 可以调整：如果觉得太严格，可以降到8%或5%

**筛选结果**：
- 只保留ROE≥10%的股票
- 确保都是赚钱能力强的公司

---

### 选项2：**不需要ROE筛选**

**理由**：
- ✅ 只关注价格是否便宜（PR≤1.0）
- ✅ 不关心公司赚钱能力
- ✅ 筛选范围更广

**设置**：
- 最低ROE：**0.0%**（不检查ROE）

**筛选结果**：
- 只要PR≤1.0就通过
- 可能包含一些ROE很低但价格便宜的公司

---

## 💭 我的建议

### 推荐方案：**保留ROE筛选，但可以调整标准**

**原因**：
1. **PR筛选只看价格，ROE筛选看质量**
   - PR≤1.0：价格便宜
   - ROE≥10%：质量好
   - 两者结合：**便宜的好公司**

2. **避免"价值陷阱"**
   - 有些公司价格很便宜（PR<1.0），但赚钱能力很差（ROE<5%）
   - 这样的公司可能是"价值陷阱"，不值得投资

3. **符合巴菲特理念**
   - 巴菲特说："以合理的价格买入优秀的公司"
   - ROE≥10%就是"优秀公司"的标准

### 建议设置

**保守型**（严格筛选）：
- PR ≤ 1.0
- ROE ≥ 10.0%

**平衡型**（推荐）：
- PR ≤ 1.0
- ROE ≥ 8.0%

**激进型**（宽松筛选）：
- PR ≤ 1.0
- ROE ≥ 5.0%

**只关注价格**（不推荐）：
- PR ≤ 1.0
- ROE ≥ 0.0%（不检查）

---

## ❓ 请确认

请告诉我你的选择：

1. **需要ROE筛选** → 设置最低ROE为多少？（推荐10.0%）
2. **不需要ROE筛选** → 只检查PR≤1.0即可

确认后我会修改代码！

---

## 📝 示例对比

### 示例1：需要ROE筛选（ROE≥10%）

**筛选条件**：
- PR ≤ 1.0
- ROE ≥ 10.0%

**结果**：
- 股票A：PR=0.8, ROE=15% → ✅ 通过（便宜+好公司）
- 股票B：PR=0.9, ROE=8% → ❌ 淘汰（ROE不足）
- 股票C：PR=1.2, ROE=20% → ❌ 淘汰（PR超标）

**通过率**：较低（约5-10%）

---

### 示例2：不需要ROE筛选（ROE≥0%）

**筛选条件**：
- PR ≤ 1.0
- ROE ≥ 0.0%（不检查）

**结果**：
- 股票A：PR=0.8, ROE=15% → ✅ 通过
- 股票B：PR=0.9, ROE=8% → ✅ 通过（ROE低但价格便宜）
- 股票C：PR=0.7, ROE=3% → ✅ 通过（ROE很低但价格很便宜）

**通过率**：较高（约10-20%）

---

**请告诉我你的选择！** 🎯

